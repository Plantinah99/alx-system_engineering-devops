#!/usr/bin/env bash
# This script gracefully restarts Gunicorn without downtime

# Find the process ID (PID) of the Gunicorn master process
PID=$(pgrep gunicorn)

if [ -z "$PID" ]; then
    echo "Gunicorn is not running."
    exit 1
fi

# Send the HUP signal to Gunicorn to initiate a graceful reload
kill -HUP $PID

echo "Sent graceful reload signal to Gunicorn (PID: $PID)"
